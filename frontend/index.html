<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=css"></script>
<script src="jquery.js"> </script>
<script>
var gCtrl = false;
function submit(e) {
    console.log("K");
    var data = {
        "some": "json"
    };
    $.ajax({
        type: 'POST',
        url: 'http://localhost:8080/k',
        data: data,
        contentType: "application/json; charset=utf-8",
        dataType: 'json',
        success: function(responseData, textStatus, jqXHR) {
                    alert(responseData.status);
                },
        error: function (responseData, textStatus, errorThrown) {
                    alert('POST failed: ' + errorThrown + textStatus);
                }
    });
}
function down(event){
    console.log(event.key);
    switch (event.key) {
        case "Control": gCtrl = true; break;
        case "Escape": $("#word").val($("#word").val() + "\\<esc>"); break;
        default: if (gCtrl) 
            $("#word").val($("#word").val() + "\\<c-"+event.key+">"); 
        break;

    }
}
function up(event){
    if (event.key=="Control") gCtrl = false;
}
window.addEventListener("keydown",function (e) {
    console.log(e);
    if (e.keyCode === 112 || e.ctrlKey) { 
        e.preventDefault();
    }
});
</script>

<html>
	<head>
		<link rel="stylesheet" href="/static/bootstrap.css">
        <style>
            .prettyprint ol.linenums > li { list-style-type: decimal; }
            pre.prettyprint { border: none; }
        </style>  
	</head>

	<body>
	<div class="bs-docs-header">
		<h1><img src="/static/vimlogo.jpg" style="height:70px"> Golf</h1>
	</div>
	<div class="container">

		<form action="http://localhost:8080/" method="post">
		  Word:<br>
		  <input type="textarea" name="word" id="word" onkeyup="up(event);"
		  onkeydown="down(event);"><br>
		  <input type="submit" value="Submit">
		</form>
		<button onclick="submit();">K</button>

		<br>
		<br>
		<select name = "holeOp" onchange="changeCode(this);"> 
			<option selected = "selected">Select a Hole</option>
			<option value = "hole1">Hole 1</option>
			<option value = "hole2">Hole 2</option>
			<option value = "hole3">Hole 3</option>
			<option value = "hole4">Hole 4</option>
		</select>
		<br>

		<br>
		<div class="col-md-6">
			<div class="well">
				<div id="wellStart" class="prettyprint linenums"></div>
			</div>
		</div>
		<div class="col-md-6">
			<div class="well">
				<div id="wellEnd"></div>
			</div>
        </div>
		<br>
		<script type="text/javascript" src="code.js"></script>

	</div>
	</body>
</html>
